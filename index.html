<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="assets/css/Footer-Basic.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <title>Tatars zhratva</title>
</head>

<body>
    <nav class="navbar navbar-light navbar-expand-md">
        <div class="container-fluid"><a class="navbar-brand" href="#">Tatars zhratva</a><button class="navbar-toggler"
                data-toggle="collapse" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span
                    class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse text-right" id="navcol-1">
                <ul class="nav navbar-nav text-right">
                    <li class="nav-item" role="presentation"><a class="nav-link active" href="#id1">Рестораны</a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link" href="#id2">Меню</a></li>
                    <li class="nav-item" role="presentation"><a class="nav-link" href="#id3">Главная</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="carousel slide" data-ride="carousel" id="carousel-1">
        <div class="carousel-inner" role="listbox">
            <div class="carousel-item active"><img class="w-100 d-block"
                    src="https://i.kym-cdn.com/photos/images/original/001/497/002/38c.png" alt="Slide Image"></div>
            <div class="carousel-item"><img class="w-100 d-block"
                    src="https://cs9.pikabu.ru/post_img/2017/04/05/7/1491391808148129732.png" alt="Slide Image">
            </div>
            <div class="carousel-item"><img class="w-100 d-block"
                    src="https://cs11.pikabu.ru/post_img/2020/02/28/7/1582887073150656389.webp" alt="Slide Image">
            </div>
        </div>
        <div><a class="carousel-control-prev" href="#carousel-1" role="button" data-slide="prev"><span
                    class="carousel-control-prev-icon"></span><span class="sr-only">Previous</span></a><a
                class="carousel-control-next" href="#carousel-1" role="button" data-slide="next"><span
                    class="carousel-control-next-icon"></span><span class="sr-only">Next</span></a></div>
        <ol class="carousel-indicators">
            <li data-target="#carousel-1" data-slide-to="0" class="active"></li>
            <li data-target="#carousel-1" data-slide-to="1"></li>
            <li data-target="#carousel-1" data-slide-to="2"></li>
        </ol>
    </div>
    <div>
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center"><strong class="text-info" style="font-size: 47px;">Татарская пища
                        богов</strong></div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <blockquote class="blockquote">
                        <p class="mb-0">Первый раз я не верил, но потом я пошел и покушал там, очень вкусна</p>
                        <footer class="blockquote-footer">Мои одногруппники</footer>
                    </blockquote>
                </div>
                <div class="col-md-4">
                    <blockquote class="blockquote">
                        <p class="mb-0">Меня зовут Андрей, я работаю мыловаром. Живу я в общаге с соседом Азатом. Как-то
                            раз я угостил его квашенной капустой от мамы, а он протянул мне треугольной формы пирожок,
                            сказал, что это эчпочмак. Я отломил кусочек, положил его в рот и монда ките бу малай, шундый
                            тэмле булды бу эчпочмак, мин чэйни-чэйни, шулай тэмлэп-тэмлэп сот белэн эчэ-эчэ арып беттем,
                            аннары кикереп усырып жибэрдем дэ йокларга яттым</p>
                        <footer class="blockquote-footer">Андрей мыловар </footer>
                    </blockquote>
                </div>
                <div class="col-md-4">
                    <blockquote class="blockquote">
                        <p class="mb-0">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a
                            ante.</p>
                        <footer class="blockquote-footer">Someone famous</footer>
                    </blockquote>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div id="id1">
        <div class="container">
            <div class="row">
                <div class="col-md-12 " style="">
                    <form>
                        <div class="form-row">
                            <div class="col-md-6 mb-3">
                                <label for="Okrug">Административный округ</label>
                                <select class="custom-select" id="Okrug">
                                    <option selected disabled value="">Не выбрано</option>
                                    <option>Округ</option>
                                    <option>Округ</option>
                                    <option>Округ</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="area">Район</label>
                                <select class="custom-select" id="area">
                                    <option selected disabled value="">Не выбрано</option>
                                    <option>Район</option>
                                    <option>Район</option>
                                    <option>Район</option>
                                </select>
                            </div>

                        </div>
                        <div class="form-row">
                            <div class="col-md-6 mb-3">
                                <label for="type">Тип</label>
                                <select class="custom-select" id="type">
                                    <option selected disabled value="">Не выбрано</option>
                                    <option>Район</option>
                                    <option>Район</option>
                                    <option>Район</option>
                                </select>
                            </div>

                            <div class="col-md-6 mb-3">
                                <button class="btn btn-primary" onclick="search()" type="submit">Найти</button>
                            </div>

                        </div>


                    </form>
                </div>
            </div>

        </div>
    </div>
    </div>

    <div>
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center"></div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-primary" id="result_panel">
                    </div>
                    <div class="panel-body">
                        <ul class="list-group" id="table">
                            <script>
                                // api
                                var xhr = new XMLHttpRequest();
                                xhr.open('GET', 'data1', false);
                                xhr.send();
                                if (xhr.status != 200) {
                                    alert(xhr.status + ': ' + xhr.statusText);
                                }
                                else {
                                    // array api
                                    var array = JSON.parse(xhr.responseText);
                                    array = array.filter((item) => item.rate != null).sort(function (prev, next) { return next.rate - prev.rate; }).slice(0, 20);


                                    for (var i = 0; i < array.length; i++) {
                                        // тут должна быть реализована функция с ценами, но что-то нет
                                        document.write("<button type='button'  onclick='price(1,2,3,4,5,6,7,8,9,10)' class='btn btn-outline-secondary'>" + array[i]["name"] + "<br>" + array[i]["address"] + "<br>" + array[i]["rate"] + "<br>" + "</button>");

                                    }

                                }

                                function search() {
                                    var Okrug = document.getElementById("Okrug").value;
                                    var area = document.getElementById("area").value;
                                    var type = document.getElementById("type").value;
                                    var xhr = new XMLHttpRequest();
                                    xhr.open('GET', 'http://exam-2020-1-api.std-400.ist.mospolytech.ru/api/data1', false);
                                    xhr.send();

                                    var array = JSON.parse(xhr.responseText);



                                    //короче тут работает но только если выбрать одно или округ или район или тип
                                    if (Okrug) {
                                        for (var i = 0; i < array.length; i++) {
                                            if (array[i]["admArea"] == Okrug) {

                                                document.write("<button type='button' id=" + array[i]["id"] + "   onclick='price()' class='btn btn-outline-secondary'>" + array[i]["name"] + "<br>" + array[i]["address"] + "<br>" + array[i]["rate"] + "<br>" + "</button>");
                                            }
                                        }
                                    }
                                    else if (area) {
                                        for (var i = 0; i < array.length; i++) {
                                            if (array[i]["district"] == area) {

                                                document.write("<button type='button' onclick='price()' class='btn btn-outline-secondary'>" + array[i]["name"] + "<br>" + array[i]["address"] + "<br>" + array[i]["rate"] + "<br>" + "</button>");
                                            }
                                        }
                                    }
                                    else if (type) {
                                        for (var i = 0; i < array.length; i++) {
                                            if (array[i]["typeObject"] == type) {

                                                document.write("<button type='button'  onclick='price()' class='btn btn-outline-secondary'>" + array[i]["name"] + "<br>" + array[i]["address"] + "<br>" + array[i]["rate"] + "<br>" + "</button>");
                                            }
                                        }
                                    }

                                }
                                let row;
                                let select = document.getElementById("table");
                                select.querySelectorAll("button").forEach(element => {
                                    element.onclick = function () {
                                        row = array.find(item => item.id == element.id);//присваивание выбранного элемента на кнопку(не работает)
                                    }
                                })
                                function price(price1, price2, price3, price4, price5, price6, price7, price8, price9, price10) {
                                    //вывод 
                                }
                            </script>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    <div id="id2">
        <div class="sets justify-content-center align-content-center flex-wrap d-flex">
            <div class="row">
                <div class="col-md-12 text-center"><small class="text-center" style="font-size: 30px;">Меню</small>
                </div>
            </div>
            <!-- <div class="row"> -->
            <!--  <div class="col-md-12"> -->
            <div class="card-group">
                <div class="card">
                    <div class="img"
                        style="background-image: url(https://kopilka-kulinara.ru/upload/information_system_52/4/8/3/item_483/item_483.jpg)">
                    </div>>
                    <div class="card-body">
                        <h4 class="card-title">Эчпочмак</h4>
                        <p class="card-text">Изысканный эчпочмак по старинному рецепту твоей татарской прабабушки. Из
                            натуральной говядины, с любовью замешенным тестом, мелко порезанным луком, картошкой и
                            специями. Ощути Татарстан в каждом новом укусе!</p><button class="btn btn-primary"
                            type="button">75 rub</button>

                    </div>
                </div>

                <div class="card">
                    <div class="img"
                        style="background-image: url(https://scontent-lhr8-1.xx.fbcdn.net/v/t1.0-9/26166784_296920390713244_1777290288629020279_n.jpg?_nc_cat=102&_nc_sid=dd9801&_nc_ohc=iFOeQXp3r5YAX-aLN0L&_nc_ht=scontent-lhr8-1.xx&oh=e5776e0d88ac57e17bd2172e0316c445&oe=5F1D5B08)">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Чак-Чак</h4>
                        <p class="card-text">Хочешь чего-нибудь сладкого к чаю? Попробуй наш фирменный чак-чак!
                            Идеальные куски теста похожие друг на друга как братья близнецы искупавшиеся в горячей
                            маслянной ванне, а затем прыгнувшие в бассейн с медом до полного застывания.</p><button
                            class="btn btn-primary" type="button">100 rub</button>
                    </div>
                </div>
                <div class="card">
                    <div class="img"
                        style="background-image: url(https://storage.delikateska.ru/cache/7/c/lapsha-domashnyaya.jpg/w480.jpg)">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Куриный суп</h4>
                        <p class="card-text">Помнишь тот самый вкус наваристого куриного супа который варила твоя мама в
                            детстве? Наши техники воссоздали химическую формулу маминой любви и добавляют его в каждую
                            порцию вашего любимого супа. Отборная куриная грудка идет на приготовление бульона, а ее
                            куриные собратья завидуют ей, ведь только ее отобрали среди всех прочих кандидатов на наш
                            суп!</p><button class="btn btn-primary" type="button">200 rub</button>
                    </div>
                </div>

            </div>
            <div class="card-group">
                <div class="card">
                    <div class="img"
                        style="background-image: url(https://cdn.tveda.ru/thumbs/d25/d253b5dcaada8d12f97a06faec2131f0/2f1889de6feffd3473b20fd5d5ff5006.jpg)">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Перемячи</h4>
                        <p class="card-text">Как эчпочмак, только не эчпочмак. И еще картошки нет.</p><button
                            class="btn btn-primary" type="button">120 rub</button>
                    </div>
                </div>

                <div class="card">
                    <div class="img"
                        style="background-image: url(https://recipe-catalog.ru/wp-content/uploads/2019/01/uzbek-manties-860x380.jpg)">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Манты</h4>
                        <p class="card-text">Большой брат пельменя. Очередной кусок теста, мяса и картошки, но на
                            удивление сделан на пару.</p><button class="btn btn-primary" type="button">150 rub</button>
                    </div>
                </div>
                <div class="card">
                    <div class="img"
                        style="background-image: url(https://i.pinimg.com/originals/e5/0e/a4/e50ea4a63368ffa89ff7a7ff43a9b7c7.jpg)">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Бармак</h4>
                        <p class="card-text">Сладкий кусок теста с начинкой. Падающая тень от чак-чака затмила эти
                            прекрасные мучные изделия.</p><button class="btn btn-primary" type="button">300 rub</button>
                    </div>
                </div>
            </div>
            <div class="card-group">
                <div class="card">
                    <div class="img" style="background-image: url(
                        https://m.kedem.ru/photo/recipe/rnamebig/pomidory-s-syrom-i-chesnokom.jpg)">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Помидоры с чесноком и сыром</h4>
                        <p class="card-text">Это просто помидор, чеснок, сыр и мазик</p><button class="btn btn-primary"
                            type="button">400 rub</button>
                    </div>
                </div>
                <div class="card">
                    <div class="img"
                        style="background-image: url(https://i.pinimg.com/originals/ea/f6/93/eaf693fc5f1fbd18b8e243ad7584e8bb.jpg)">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Азу по татарски</h4>
                        <p class="card-text">Как обычное азу, но с шепоткой татарского колорита. </p><button
                            class="btn btn-primary" type="button">270 rub</button>
                    </div>
                </div>
                <div class="card">
                    <div class="img"
                        style="background-image: url(https://static.1000.menu/img/content-v2/5b/9e/42698/zur-belish-tatarskii-pirog_1579963262_27_max.jpg)">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Зур-Бэлиш</h4>
                        <p class="card-text">Ты хочешь больше одного эчпочмака? Представляем вам Зур-Бэлиш, перекаченный
                            стеройдами эчпочмак который думает что он пирог.</p><button class="btn btn-primary"
                            type="button">600 rub</button>
                    </div>
                </div>
            </div>
            <!-- <div class="card-group"> -->
            <!--  <div class="card">
                     тут короче костыль пока 
                    <div class="img"
                        style="background-image: url(https://static.1000.menu/img/content-v2/78/b7/1731/kjstjbji-s-kartofelem_1577257150_16_max.jpg)">
                    </div>
                    <div class="card-body">
                        <h4 class="card-title">Кыстыбый</h4>
                        <p class="card-text">О нет! У нас украли мясо, что же нам делать? Не бойтесь, ведь у нас
                            осталось еще тесто с картошкой</p><button class="btn btn-primary"
                            type="button">Button</button>
                    </div>
                </div> -->
            <!-- </div> -->
        </div>
    </div>
    <div class="d-none d-sm-flex justify-content-center"> Блюдо дня!</div>
    <div class="sets justify-content-center align-content-center d-flex">
        <div class="card-group">
            <div class="card">
                <!-- тут короче костыль пока  -->
                <div class="img"
                    style="background-image: url(https://static.1000.menu/img/content-v2/78/b7/1731/kjstjbji-s-kartofelem_1577257150_16_max.jpg)">
                </div>
                <div class="card-body">
                    <h4 class="card-title">Кыстыбый</h4>
                    <p class="card-text">О нет! У нас украли мясо, что же нам делать? Не бойтесь, ведь у нас
                        осталось еще тесто с картошкой</p><button class="btn btn-primary" type="button">80 rub</button>
                </div>
            </div>
        </div>
    </div>
    <div class="itog row">
        <p class="pt-3 ml-5">Итого: 0 руб.</p>
    </div>
    <div class="col-md d-flex justify-content-center">
        <button type="button" class="btn mt-3" data-toggle="modal" data-target="#itogo" id="deliveryform">Оформить
            заказ</button>
    </div>
    </div>
    </div>
    <div class="modal fade" id="itogo" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Оформление заказа</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h5>
                        Позиции заказа
                    </h5>
                    <div id="modalca">
                    </div>
                    <h5>Инфа о предприятии</h5>
                    <div class="row">
                        <div class="col">Название</div>
                        <div class="col" id="">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">Административный округ</div>
                        <div class="col" id=""></div>
                    </div>
                    <div class="row">
                        <div class="col">Район</div>
                        <div class="col" id=""></div>
                    </div>
                    <div class="row">
                        <div class="col">Адрес</div>
                        <div class="col" id=""></div>
                    </div>
                    <div class="row">
                        <div class="col">Рейтинг</div>
                        <div class="col" id=""></div>
                    </div>
                    <h5>Доставка</h5>
                    <form id="delivery">
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col">
                                    <label for="deliveryzone">
                                        Зона доставки
                                    </label>
                                </div>
                                <div class="col">
                                    <select name="deliveryzone" id="deliveryzone" class="form-control">
                                        <option selected>Первая Зона</option>
                                        <option>Вторая Зона</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col">
                                    <label for="adress">
                                        Адрес доставки
                                    </label>
                                </div>
                                <div class="col">
                                    <textarea name="adress" id="adress" class="form-control " rows="2">
                    </textarea>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col">
                                    <label for="pricedel">
                                        Стоимость доставки
                                    </label>
                                </div>
                                <div class="col">
                                    <input value="0" disabled name="pricedel" id="pricedel" class="form-control " />
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col">
                                    <label for="fio">
                                        ФИО получателя
                                    </label>
                                </div>
                                <div class="col">
                                    <input name="fio" id="fio" class="form-control"
                                        placeholder="Фамилия Имя Отчество" />
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col">
                                    <label for="priceend">
                                        Итого
                                    </label>
                                </div>
                                <div class="col">
                                    <input value="0" disabled name="priceend" id="priceend"
                                        class="form-control-plaintext price " />
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="form-group">
                        <div class="form-row">
                            <div class="col">
                                <label for="priceend">
                                    Если холодный
                                </label>
                            </div>
                            <div class="col">
                                <input value="0" disabled name="pricecold" id="pricecold"
                                    class="form-control-plaintext" />
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-row">
                            <div class="col">
                                <label for="priceend">
                                    Быстрая доставка
                                </label>
                            </div>
                            <div class="col">
                                <input value="Нет" disabled type="text" name="contactless" id="contactlessmodal"
                                    class="form-control-plaintext" />
                            </div>
                        </div>
                    </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn " data-dismiss="modal">Отмена</button>
                    <button type="button" class="btn ">Подтвердить</button>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-basic">
        <footer>
            <div class="social"><a href="#"><i class="icon ion-social-instagram"></i></a><a href="#"><i
                        class="icon ion-social-snapchat"></i></a><a href="#"><i
                        class="icon ion-social-twitter"></i></a><a href="#"><i class="icon ion-social-facebook"></i></a>
            </div>

            <p class="copyright">Davletbaev Inc Lmtd © 2020</p>
        </footer>
    </div>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>

</body>

</html>